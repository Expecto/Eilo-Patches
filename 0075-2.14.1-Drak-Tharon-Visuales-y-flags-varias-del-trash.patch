From 905e237df6042f3eed3159407e3ef8b76a1fa23e Mon Sep 17 00:00:00 2001
From: Eilo <eilo2518@gmail.com>
Date: Sat, 17 Dec 2011 14:39:12 -0500
Subject: [PATCH 75/77] 2.14.1 Drak'Tharon: Visuales y flags varias del trash
 y reward de LFG

---
 .../reanemu/2011_12_17_100_world_draktharon.sql    |   34 ++++++++++++++++++++
 1 files changed, 34 insertions(+), 0 deletions(-)
 create mode 100644 sql/updates/world/reanemu/2011_12_17_100_world_draktharon.sql

diff --git a/sql/updates/world/reanemu/2011_12_17_100_world_draktharon.sql b/sql/updates/world/reanemu/2011_12_17_100_world_draktharon.sql
new file mode 100644
index 0000000..ee84949
--- /dev/null
+++ b/sql/updates/world/reanemu/2011_12_17_100_world_draktharon.sql
@@ -0,0 +1,34 @@
+#### DRAK THARON ####
+-- Drakkari Guardian (not all creatures in the instance should be dead)
+UPDATE `creature_template` SET 
+	`faction_A`=1814,
+	`faction_H`=1814,
+	`unit_flags`=`unit_flags`&~33554432&~2,
+	`dynamicflags`=`dynamicflags`&~32,
+	`type_flags`=`type_flags`&~128,
+	`flags_extra`=`flags_extra`&~2 
+WHERE `entry` IN (26620,31339); 
+
+-- Drakkari Bat
+UPDATE `creature_template` SET `unit_flags`=`unit_flags`|0x2, `flags_extra`=`flags_extra`|0x2 WHERE `entry`=27490;
+
+-- Risen Drakkari Bat Rider
+UPDATE `creature_template` SET `unit_flags`=`unit_flags`|0x2, `flags_extra`=`flags_extra`|0x2 WHERE `entry`=26638;
+
+-- define living and dead creatures
+UPDATE `creature` SET 
+	`unit_flags`= IF(`guid` IN (127589,127590,127580,127591,127579,127578,127582),0,(`unit_flags`|33554432|512|2)),
+	`dynamicflags`= IF(`guid` IN (127589,127590,127580,127591,127579,127578,127582),0,(`dynamicflags`|32))
+WHERE `id`=26620;
+
+-- to avoid to kill each other
+UPDATE `creature_template` SET `faction_A`=1814,`faction_H`=1814 WHERE `entry` IN 
+(
+26639,  -- Drakkari Shaman
+31345,  -- Drakkari Shaman H
+26830,  -- Risen Drakkari Death Knight
+31352,  -- Risen Drakkari Death Knight H
+27431,  -- Drakkari Commander
+31338   -- Drakkari Commander H
+);
+
+-- Drak'Tharon fix para el LFG
+UPDATE `instance_encounters` SET `creditType` = '0', `creditEntry` = '26632' WHERE `entry` IN ('376', '375')
+
-- 
1.7.6.msysgit.0

